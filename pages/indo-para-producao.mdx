---
title: "Indo para Produ√ß√£o"
description: "Guia completo para migrar do ambiente de desenvolvimento para produ√ß√£o com seguran√ßa e conformidade."
---

# Indo para Produ√ß√£o

Quando sua integra√ß√£o estiver funcionando perfeitamente no sandbox, √© hora de migrar para produ√ß√£o. Este processo envolve verifica√ß√µes de seguran√ßa, conformidade e configura√ß√µes espec√≠ficas para processar transa√ß√µes reais.

<Warning>
**Transa√ß√µes reais**: Em produ√ß√£o, todas as transa√ß√µes processam dinheiro real e s√£o irrevers√≠veis. Teste exaustivamente no sandbox antes de migrar.
</Warning>

## ‚úÖ Checklist Pr√©-Produ√ß√£o

### 1. Testes Completos no Sandbox
- [ ] Todos os fluxos de pagamento testados
- [ ] Webhooks funcionando corretamente
- [ ] Tratamento de erros implementado
- [ ] Timeouts e retry logic configurados
- [ ] Testes de carga realizados

### 2. Seguran√ßa
- [ ] Chaves API armazenadas com seguran√ßa
- [ ] HTTPS obrigat√≥rio em todos endpoints
- [ ] Valida√ß√£o de assinatura de webhooks
- [ ] Logs de auditoria implementados
- [ ] Backup de dados cr√≠ticos

### 3. Compliance
- [ ] Documenta√ß√£o LGPD implementada
- [ ] Pol√≠tica de privacidade atualizada
- [ ] Termos de uso incluem processamento de pagamentos
- [ ] Processo KYC/AML implementado (se aplic√°vel)

## üîë Processo de Ativa√ß√£o

### Passo 1: Verifica√ß√£o da Conta

Acesse o [Dashboard Debita](https://dashboard.debita.ai) e complete:

#### Documentos Empresariais
- **CNPJ** v√°lido e ativo na Receita Federal
- **Contrato Social** ou documentos de constitui√ß√£o
- **Comprovante de endere√ßo** empresarial atualizado
- **Inscri√ß√£o Municipal/Estadual** (se aplic√°vel)

#### Dados dos Representantes
- **CPF e RG** dos s√≥cios/representantes
- **Comprovante de resid√™ncia** dos representantes
- **Procura√ß√£o** (se aplic√°vel)

#### Informa√ß√µes Banc√°rias
- **Conta banc√°ria** para liquida√ß√£o
- **Comprovante de conta** (extrato ou cart√£o CNPJ)

### Passo 2: An√°lise de Risco

Nosso time de compliance analisar√°:

- **Atividade da empresa**: Setor, faturamento, hist√≥rico
- **Produtos/Servi√ßos**: Descri√ß√£o detalhada do neg√≥cio
- **Volume esperado**: Ticket m√©dio e volume mensal
- **Hist√≥rico**: Experi√™ncia com outros processadores

**Tempo m√©dio**: 3-5 dias √∫teis

### Passo 3: Configura√ß√£o de Produ√ß√£o

Ap√≥s aprova√ß√£o:

1. **Chaves de Produ√ß√£o** liberadas no dashboard
2. **Limites iniciais** configurados baseados na an√°lise
3. **Webhooks de produ√ß√£o** configurados
4. **Configura√ß√µes de liquida√ß√£o** definidas

## üîê Chaves de Produ√ß√£o

### Tipos de Chave

#### Chaves Live (pk_live_)
```bash
# Exemplo
pk_live_1a2b3c4d5e6f7g8h9i0j
```
- Para ambiente de **produ√ß√£o**
- Processam transa√ß√µes reais
- Rate limits mais altos
- Suporte priorit√°rio

#### Chaves Test (pk_test_)
```bash
# Exemplo
pk_test_9z8y7x6w5v4u3t2s1r0q
```
- Para ambiente de **homologa√ß√£o**
- Transa√ß√µes simuladas com dados reais
- Testes finais antes do go-live

### Configura√ß√£o Segura

```javascript
// ‚ùå NUNCA fa√ßa isso
const apiKey = 'pk_live_1a2b3c4d5e6f7g8h9i0j';

// ‚úÖ Use vari√°veis de ambiente
const apiKey = process.env.DEBITA_API_KEY;

// ‚úÖ Ainda melhor: use um secret manager
const apiKey = await secretManager.getSecret('debita-api-key');
```

### Rota√ß√£o de Chaves
- Rotacione chaves a cada 90 dias
- Use m√∫ltiplas chaves para zero-downtime
- Monitore uso de chaves antigas

## üåê Configura√ß√µes de Produ√ß√£o

### Base URL
```javascript
// Sandbox
const baseUrl = 'https://sandbox.debita.ai';

// Produ√ß√£o
const baseUrl = 'https://api.debita.ai';
```

### Webhooks de Produ√ß√£o
```bash
# Configure URLs HTTPS com certificado v√°lido
curl -X POST https://api.debita.ai/v1/webhooks \
  -H "Authorization: Bearer pk_live_sua_chave" \
  -d '{
    "url": "https://sua-api.com/webhook/debita",
    "events": ["pix.payment.confirmed"],
    "secret": "webhook-secret-super-seguro"
  }'
```

### Rate Limits de Produ√ß√£o

| Endpoint | Limite |
|----------|--------|
| PIX Din√¢mico | 1.000/min |
| PIX Est√°tico | 500/min |
| Boletos | 300/min |
| Consultas | 2.000/min |
| Webhooks | 100/min |

## üí∞ Liquida√ß√£o e Tarifas

### Cronograma de Liquida√ß√£o

#### PIX
- **D+0**: Liquida√ß√£o instant√¢nea (opcional)
- **D+1**: Liquida√ß√£o padr√£o
- **Hor√°rios**: 24/7 para PIX

#### Boletos
- **D+1**: Ap√≥s confirma√ß√£o banc√°ria
- **D+2**: Para bancos menores
- **Hor√°rios**: Dias √∫teis ap√≥s 14h

### Estrutura de Tarifas

```javascript
// Exemplo de c√°lculo de tarifa
const transactionAmount = 10000; // R$ 100,00
const pixFee = 149; // R$ 1,49

const netAmount = transactionAmount - pixFee;
// Net: R$ 98,51 liquidado na conta
```

### Antecipa√ß√£o (opcional)
- **Taxa**: 2,5% a.m.
- **Prazo**: At√© D-30
- **Limite**: 80% do volume mensal

## üö® Monitoramento e Alertas

### M√©tricas Cr√≠ticas

```javascript
// Configure alertas para:
const alerts = {
  errorRate: '> 5%',        // Taxa de erro alta
  responseTime: '> 3s',     // Lat√™ncia alta
  failedWebhooks: '> 10',   // Webhooks falhando
  unusualVolume: '2x avg',  // Volume anormal
  chargebacks: '> 1%'       // Taxa de chargeback
};
```

### Health Checks

```bash
# Endpoint de status
curl https://api.debita.ai/health

# Response esperada
{
  "status": "ok",
  "services": {
    "api": "healthy",
    "database": "healthy",
    "payments": "healthy"
  }
}
```

### Logs de Auditoria

```javascript
// Implemente logs estruturados
const auditLog = {
  timestamp: new Date().toISOString(),
  action: 'payment_created',
  user_id: 'user_123',
  resource_id: 'chg_abc123',
  ip_address: req.ip,
  user_agent: req.headers['user-agent']
};

logger.audit(auditLog);
```

## üîí Seguran√ßa em Produ√ß√£o

### Valida√ß√£o de Webhooks

```javascript
const crypto = require('crypto');

function validateWebhook(payload, signature, secret) {
  const expectedSignature = crypto
    .createHmac('sha256', secret)
    .update(payload)
    .digest('hex');

  return signature === `sha256=${expectedSignature}`;
}

// Use sempre esta valida√ß√£o em produ√ß√£o
if (!validateWebhook(req.body, req.headers['x-debita-signature'], webhookSecret)) {
  return res.status(401).send('Invalid signature');
}
```

### Rate Limiting

```javascript
const rateLimit = require('express-rate-limit');

// Configure rate limiting por IP
const apiLimiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 minutos
  max: 1000, // m√°ximo 1000 requests por IP
  message: 'Too many requests from this IP'
});

app.use('/api/', apiLimiter);
```

### Timeout e Retry

```javascript
const axios = require('axios');

const apiClient = axios.create({
  timeout: 30000, // 30 segundos
  retry: 3,
  retryDelay: (retryCount) => {
    return retryCount * 1000; // 1s, 2s, 3s
  }
});
```

## üìä M√©tricas de Sucesso

### KPIs de Pagamentos
- **Taxa de convers√£o**: % de pagamentos aprovados
- **Tempo m√©dio**: Tempo para confirma√ß√£o
- **Taxa de abandono**: % de PIX n√£o pagos
- **Chargeback rate**: < 1% para categoria baixo risco

### Performance
- **Lat√™ncia P95**: < 2 segundos
- **Disponibilidade**: > 99.9%
- **Taxa de erro**: < 0.1%

## üÜò Suporte e Escala√ß√£o

### Canais de Suporte

#### Produ√ß√£o (24/7)
- **Email**: suporte@debita.ai
- **Slack**: Canal dedicado (enterprise)
- **Telefone**: +55 11 4000-1234
- **SLA**: 2h para issues cr√≠ticos

#### Desenvolvimento
- **Discord**: [discord.gg/debita](https://discord.gg/debita)
- **Docs**: Esta documenta√ß√£o
- **GitHub**: Issues e feature requests

### Escala√ß√£o de Incidentes

```
Severidade 1 (Cr√≠tico): Sistema down, perda de receita
‚îú‚îÄ‚îÄ Resposta: 15 minutos
‚îú‚îÄ‚îÄ Resolu√ß√£o: 4 horas
‚îî‚îÄ‚îÄ Comunica√ß√£o: A cada 30min

Severidade 2 (Alto): Funcionalidade degradada
‚îú‚îÄ‚îÄ Resposta: 2 horas
‚îú‚îÄ‚îÄ Resolu√ß√£o: 24 horas
‚îî‚îÄ‚îÄ Comunica√ß√£o: A cada 4h

Severidade 3 (M√©dio): Bug n√£o cr√≠tico
‚îú‚îÄ‚îÄ Resposta: 24 horas
‚îú‚îÄ‚îÄ Resolu√ß√£o: 72 horas
‚îî‚îÄ‚îÄ Comunica√ß√£o: Di√°ria
```

## üéØ Go-Live Recomendado

### Estrat√©gia de Roll-out

#### Fase 1: Soft Launch (Semana 1)
- 10% do tr√°fego para Debita
- Monitoramento intensivo
- Valida√ß√£o de m√©tricas

#### Fase 2: Ramp Up (Semana 2-3)
- Aumento gradual para 50%
- Otimiza√ß√£o baseada em dados
- Treinamento da equipe

#### Fase 3: Full Production (Semana 4+)
- 100% do tr√°fego
- Monitoramento de rotina
- Otimiza√ß√£o cont√≠nua

<Card title="SDKs Oficiais" icon="code" href="/sdks">
  Use nossos SDKs para implementa√ß√£o mais r√°pida e segura
</Card>

<Note>
**Precisa de ajuda?** Nossa equipe t√©cnica est√° dispon√≠vel para auxiliar na migra√ß√£o. Entre em contato via [suporte@debita.ai](mailto:suporte@debita.ai).
</Note>