---
title: "Boleto PDF Download"
description: "API p√∫blico para download de PDFs de boleto banc√°rio sem necessidade de autentica√ß√£o."
---

# Boleto PDF Download

API p√∫blico para acesso e download de boletos banc√°rios gerados pela plataforma. Este endpoint n√£o requer autentica√ß√£o e permite que clientes acessem e baixem seus boletos atrav√©s de um c√≥digo √∫nico.

## üåê Endpoints P√∫blicos

### Visualizar Boleto
```http
GET https://api.debita.ai/v1/boleto/{code}
```

**Descri√ß√£o**: Retorna todos os dados do boleto para visualiza√ß√£o, incluindo linha digit√°vel, c√≥digo de barras e informa√ß√µes de pagamento.

**Par√¢metros**:
- `code` (string): C√≥digo √∫nico do boleto (ex: `bol_abc123xyz`)

#### Exemplo de Resposta

```json
{
  "id": "bol_abc123xyz",
  "status": "pending",
  "amount": 15000,
  "currency": "BRL",
  "due_date": "2024-01-31",
  "description": "Fatura de servi√ßos - Janeiro 2024",
  "merchant": {
    "name": "Sua Empresa Ltda",
    "document": "12.345.678/0001-95",
    "address": "Rua Comercial, 123 - S√£o Paulo/SP"
  },
  "customer": {
    "name": "Jo√£o Silva",
    "document": "123.456.789-09",
    "email": "joao@email.com"
  },
  "barcode": {
    "code": "34191790010000150009999999999999999999999",
    "line": "34199.99999 99999.999999 99999.999999 9 99990100000015000"
  },
  "pix_integration": {
    "enabled": true,
    "qr_code": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA...",
    "qr_code_text": "00020126580014br.gov.bcb.pix...",
    "discount_rate": 0.03
  },
  "fees": {
    "late_fee_rate": 0.02,
    "interest_rate": 0.033,
    "discount_until": "2024-01-25",
    "discount_rate": 0.05
  },
  "pdf_url": "https://api.debita.ai/v1/boleto/bol_abc123xyz/pdf",
  "expires_at": "2024-02-29T23:59:59-03:00",
  "created_at": "2024-01-01T10:00:00-03:00"
}
```

### Download PDF do Boleto
```http
GET https://api.debita.ai/v1/boleto/{code}/pdf
```

**Descri√ß√£o**: Redireciona (HTTP 302) para o PDF do boleto hospedado no provedor banc√°rio. O PDF √© gerado dinamicamente e inclui todos os dados atualizados, incluindo juros e multa se houver atraso.

**Par√¢metros**:
- `code` (string): C√≥digo √∫nico do boleto

#### Respostas

**200 - Sucesso**:
```http
HTTP/1.1 302 Found
Location: https://delfinance.api.com/boleto/download/correlation_id_123.pdf
Content-Type: application/json

{
  "url": "https://delfinance.api.com/boleto/download/correlation_id_123.pdf",
  "statusCode": 302
}
```

**404 - Boleto n√£o encontrado**:
```json
{
  "error": {
    "type": "not_found",
    "code": "BOLETO_NOT_FOUND",
    "message": "Boleto n√£o encontrado ou c√≥digo inv√°lido"
  }
}
```

**410 - Link expirado**:
```json
{
  "error": {
    "type": "expired",
    "code": "BOLETO_LINK_EXPIRED",
    "message": "Link do boleto expirado",
    "expired_at": "2024-01-31T23:59:59-03:00"
  }
}
```

## üîß Implementa√ß√£o Frontend

### JavaScript Vanilla

```javascript
// Fun√ß√£o para acessar dados do boleto
async function getBoletoData(code) {
  try {
    const response = await fetch(`https://api.debita.ai/v1/boleto/${code}`);

    if (!response.ok) {
      throw new Error(`Erro ${response.status}: ${response.statusText}`);
    }

    const boleto = await response.json();

    // Exibir dados do boleto
    document.getElementById('amount').textContent =
      `R$ ${(boleto.amount / 100).toLocaleString('pt-BR', {
        minimumFractionDigits: 2
      })}`;

    document.getElementById('due-date').textContent =
      new Date(boleto.due_date).toLocaleDateString('pt-BR');

    document.getElementById('barcode-line').textContent = boleto.barcode.line;

    // Configurar bot√£o de download
    document.getElementById('download-pdf').href =
      `https://api.debita.ai/v1/boleto/${code}/pdf`;

    return boleto;

  } catch (error) {
    console.error('Erro ao carregar boleto:', error);
    showError('N√£o foi poss√≠vel carregar os dados do boleto');
  }
}

// Fun√ß√£o para download direto (alternativa)
async function downloadBoletoPdf(code) {
  try {
    const response = await fetch(
      `https://api.debita.ai/v1/boleto/${code}/pdf`,
      { method: 'GET', redirect: 'manual' }
    );

    if (response.type === 'opaqueredirect') {
      // Browser ir√° fazer o redirect automaticamente
      window.location.href = response.url;
    } else if (response.ok) {
      const data = await response.json();
      window.open(data.url, '_blank');
    } else {
      throw new Error('Erro ao acessar PDF do boleto');
    }

  } catch (error) {
    console.error('Erro no download:', error);
    alert('N√£o foi poss√≠vel baixar o PDF do boleto');
  }
}
```

### React Component

```jsx
import { useState, useEffect } from 'react';

function BoletoViewer({ boletoCode }) {
  const [boleto, setBoleto] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    async function loadBoleto() {
      try {
        setLoading(true);
        const response = await fetch(
          `https://api.debita.ai/v1/boleto/${boletoCode}`
        );

        if (!response.ok) {
          throw new Error(`Erro ${response.status}`);
        }

        const data = await response.json();
        setBoleto(data);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    }

    if (boletoCode) {
      loadBoleto();
    }
  }, [boletoCode]);

  const handleDownloadPdf = () => {
    window.open(`https://api.debita.ai/v1/boleto/${boletoCode}/pdf`, '_blank');
  };

  if (loading) return <div>Carregando boleto...</div>;
  if (error) return <div>Erro: {error}</div>;
  if (!boleto) return null;

  return (
    <div className="boleto-viewer">
      <h2>Boleto Banc√°rio</h2>

      <div className="boleto-header">
        <div className="amount">
          <strong>Valor: R$ {(boleto.amount / 100).toLocaleString('pt-BR', {
            minimumFractionDigits: 2
          })}</strong>
        </div>
        <div className="due-date">
          Vencimento: {new Date(boleto.due_date).toLocaleDateString('pt-BR')}
        </div>
      </div>

      <div className="merchant-info">
        <h3>{boleto.merchant.name}</h3>
        <p>{boleto.merchant.document}</p>
        <p>{boleto.description}</p>
      </div>

      <div className="payment-options">
        <div className="barcode-section">
          <h4>C√≥digo de Barras</h4>
          <code className="barcode-line">{boleto.barcode.line}</code>
          <button
            onClick={() => navigator.clipboard.writeText(boleto.barcode.line)}
          >
            Copiar c√≥digo
          </button>
        </div>

        {boleto.pix_integration?.enabled && (
          <div className="pix-section">
            <h4>Pagar com PIX</h4>
            <img src={boleto.pix_integration.qr_code} alt="QR Code PIX" />
            <p>Desconto de {(boleto.pix_integration.discount_rate * 100).toFixed(0)}% no PIX</p>
          </div>
        )}
      </div>

      <div className="actions">
        <button onClick={handleDownloadPdf} className="btn-primary">
          üì• Download PDF
        </button>
      </div>
    </div>
  );
}

export default BoletoViewer;
```

## üîí Seguran√ßa e Limita√ß√µes

### Rate Limiting
- **100 requisi√ß√µes por minuto** por IP address
- Headers de rate limit retornados em cada resposta:
  ```http
  X-RateLimit-Limit: 100
  X-RateLimit-Remaining: 95
  X-RateLimit-Reset: 1640995200
  ```

### Valida√ß√µes
- **Expira√ß√£o do link**: Links de boleto expiram ap√≥s per√≠odo configurado
- **C√≥digo v√°lido**: Valida√ß√£o de formato e exist√™ncia do boleto
- **Status do boleto**: Apenas boletos ativos podem ser acessados

### Analytics e Logs
- Todos os acessos s√£o logados para analytics
- Tracking de downloads de PDF
- M√©tricas de convers√£o dispon√≠veis no dashboard

## üéØ Casos de Uso

### 1. Checkout P√∫blico
```html
<!-- Link direto para boleto -->
<a href="https://api.debita.ai/v1/boleto/bol_abc123xyz" target="_blank">
  Ver Boleto
</a>

<!-- Bot√£o de download -->
<a href="https://api.debita.ai/v1/boleto/bol_abc123xyz/pdf"
   class="btn-download" target="_blank">
  üì• Baixar PDF
</a>
```

### 2. Email Marketing
```text
Ol√° Jo√£o,

Seu boleto est√° dispon√≠vel para pagamento:

üîó Ver online: https://api.debita.ai/v1/boleto/bol_abc123xyz
üì• Download PDF: https://api.debita.ai/v1/boleto/bol_abc123xyz/pdf

Valor: R$ 150,00
Vencimento: 31/01/2024
```

### 3. WhatsApp Business
```text
üí∞ *Boleto Dispon√≠vel*

Valor: R$ 150,00
Vence em: 31/01/2024

üîó Ver boleto: https://api.debita.ai/v1/boleto/bol_abc123xyz
üì± Ou pague com PIX direto pelo link acima (3% desconto)
```

### 4. Integra√ß√£o com ERP
```python
import requests

def download_boleto_pdf(boleto_code, save_path):
    """
    Baixa PDF do boleto e salva localmente
    """
    url = f"https://api.debita.ai/v1/boleto/{boleto_code}/pdf"

    response = requests.get(url, allow_redirects=True)

    if response.status_code == 200:
        with open(save_path, 'wb') as f:
            f.write(response.content)
        return True

    return False

# Uso
success = download_boleto_pdf('bol_abc123xyz', './boletos/janeiro_2024.pdf')
```

## üìä Monitoramento

### M√©tricas Importantes
- Taxa de visualiza√ß√£o de boletos
- Taxa de download de PDFs
- Tempo de resposta dos endpoints
- Erros 404 (links inv√°lidos)
- Erros 410 (links expirados)

### Dashboard Analytics
Acesse as m√©tricas atrav√©s do dashboard:
- **Visualiza√ß√µes**: Quantos clientes acessaram o boleto
- **Downloads**: Quantos PDFs foram baixados
- **Taxa de convers√£o**: Visualiza√ß√µes ‚Üí Downloads ‚Üí Pagamentos

---

<Tip>
**Pr√≥ximo Passo**: Configure [webhooks](/webhooks/eventos) para receber notifica√ß√µes quando boletos forem pagos atrav√©s destes links p√∫blicos.
</Tip>