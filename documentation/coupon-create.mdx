---
title: "POST /v1/coupons"
api: "POST https://api.debita.ai/v1/coupons"
description: "Cria um novo cupom de desconto para aplicar em cobranças."
---

## Visão Geral

Cria um novo cupom de desconto que pode ser aplicado em cobranças para reduzir o valor total.

## Parâmetros da Requisição

### Headers Obrigatórios

<ParamField header="Authorization" type="string" required>
  Chave API no formato Bearer token
  ```
  Bearer pk_sandbox_sua_chave
  ```
</ParamField>

### Body Parameters

<ParamField body="code" type="string" required>
  Código único do cupom (ex: "DESCONTO10")
</ParamField>

<ParamField body="type" type="string" required>
  Tipo do desconto: `percentage` ou `fixed`
</ParamField>

<ParamField body="amount" type="number" required>
  - Para `percentage`: Percentual (ex: 10.0 = 10%)
  - Para `fixed`: Valor em centavos (ex: 1000 = R$ 10,00)
</ParamField>

<ParamField body="expires_at" type="string">
  Data de expiração (formato ISO 8601)
</ParamField>

<ParamField body="usage_limit" type="integer">
  Limite de uso do cupom (padrão: ilimitado)
</ParamField>

## Exemplo de Requisição

<RequestExample>

```bash cURL
curl -X POST https://api.debita.ai/v1/coupons \
  -H "Authorization: Bearer pk_sandbox_sua_chave" \
  -H "Content-Type: application/json" \
  -d '{
    "code": "DESCONTO10",
    "type": "percentage",
    "amount": 10.0,
    "expires_at": "2024-12-31T23:59:59-03:00",
    "usage_limit": 100
  }'
```

```javascript Node.js
const response = await fetch('https://api.debita.ai/v1/coupons', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer pk_sandbox_sua_chave',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    code: 'DESCONTO10',
    type: 'percentage',
    amount: 10.0,
    expires_at: '2024-12-31T23:59:59-03:00',
    usage_limit: 100
  })
});

const coupon = await response.json();
console.log('Cupom criado:', coupon.id);
```

</RequestExample>

## Resposta

<ResponseExample>

```json Sucesso (201)
{
  "id": "coup_abc123",
  "code": "DESCONTO10",
  "type": "percentage",
  "amount": 10.0,
  "expires_at": "2024-12-31T23:59:59-03:00",
  "usage_limit": 100,
  "usage_count": 0,
  "status": "active",
  "created_at": "2024-01-01T10:00:00-03:00"
}
```

</ResponseExample>