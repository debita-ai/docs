---
title: "API Reference - Vis√£o Geral"
description: "Refer√™ncia completa da API Debita AI com todos os endpoints, exemplos de c√≥digo e guias de integra√ß√£o."
---

# API Reference

A API Debita AI oferece endpoints RESTful para gerenciar todo o ciclo de vida de pagamentos no Brasil. Nossa API √© organizada em torno dos recursos principais: charges (cobran√ßas), customers (clientes), webhooks e utilit√°rios p√∫blicos.

## üèóÔ∏è Arquitetura da API

### Base URL
```
https://api.debita.ai/v1
```

### Autentica√ß√£o
Todos os endpoints (exceto p√∫blicos) requerem chave API:
```http
Authorization: Bearer pk_sandbox_sua_chave_aqui
```

### Formato de Dados
- **Requisi√ß√µes**: JSON (`application/json`)
- **Respostas**: JSON com estrutura consistente
- **Valores monet√°rios**: Centavos (ex: R$ 100,00 = `10000`)
- **Datas**: ISO 8601 com timezone (`2024-01-01T10:00:00-03:00`)

## üìã Recursos Principais

### üí≥ Charges (Cobran√ßas)
Endpoints para criar e gerenciar cobran√ßas PIX e Boleto.

<Accordion title="PIX Endpoints">
  <Accordion title="PIX Din√¢mico">
    <div style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
      <Badge variant="outline">POST</Badge>
      <code>/charges/pix/dynamic</code>
    </div>
    Criar PIX com QR Code √∫nico, valor predefinido e expira√ß√£o autom√°tica. Ideal para e-commerce.
  </Accordion>

  <Accordion title="PIX Est√°tico">
    <div style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
      <Badge variant="outline">POST</Badge>
      <code>/charges/pix/static</code>
    </div>
    Criar QR Code PIX reutiliz√°vel onde cliente informa valor. Ideal para vendas f√≠sicas.
  </Accordion>
</Accordion>

<Accordion title="Boleto Endpoints">
  <div style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
    <Badge variant="outline">POST</Badge>
    <code>/charges/boleto</code>
  </div>
  Criar boleto banc√°rio tradicional ou h√≠brido (boleto + PIX)
</Accordion>

<Accordion title="Gerenciamento de Cobran√ßas">
  <ResponseField name="GET /charges/{id}" type="endpoint">
    Consultar dados completos de uma cobran√ßa
  </ResponseField>

  <ResponseField name="PUT /charges/{id}" type="endpoint">
    Atualizar dados de uma cobran√ßa pendente
  </ResponseField>

  <ResponseField name="POST /charges/{id}/cancel" type="endpoint">
    Cancelar cobran√ßa pendente
  </ResponseField>
</Accordion>

### üë• Customers (Clientes)
Gerenciamento de dados de clientes.

| Endpoint | M√©todo | Descri√ß√£o |
|----------|---------|-----------|
| `/customers` | POST | Criar cliente |
| `/customers` | GET | Listar clientes |
| `/customers/{id}` | GET | Consultar cliente |
| `/customers/{id}` | PUT | Atualizar cliente |
| `/customers/{id}` | DELETE | Remover cliente |

### üîó Webhooks
Configura√ß√£o de notifica√ß√µes em tempo real.

| Endpoint | M√©todo | Descri√ß√£o |
|----------|---------|-----------|
| `/webhooks` | POST | Criar webhook |
| `/webhooks` | GET | Listar webhooks |
| `/webhooks/{id}` | GET | Consultar webhook |
| `/webhooks/{id}` | PUT | Atualizar webhook |
| `/webhooks/{id}` | DELETE | Remover webhook |
| `/webhooks/{id}/test` | POST | Testar webhook |

### üåê Endpoints P√∫blicos
APIs que n√£o requerem autentica√ß√£o.

| Endpoint | M√©todo | Descri√ß√£o |
|----------|---------|-----------|
| `/boleto/{code}` | GET | Visualizar boleto p√∫blico |
| `/boleto/{code}/pdf` | GET | Download PDF boleto |
| `/payment-links/{slug}` | GET | Acessar payment link |

### üîÑ Refunds (Reembolsos)
Processamento de estornos e reembolsos.

| Endpoint | M√©todo | Descri√ß√£o |
|----------|---------|-----------|
| `/refunds` | POST | Criar reembolso |
| `/refunds/{id}` | GET | Consultar reembolso |
| `/refunds` | GET | Listar reembolsos |

## üîß Estrutura de Resposta Padr√£o

### Resposta de Sucesso
```json
{
  "success": true,
  "data": {
    // Dados do recurso
  },
  "meta": {
    "timestamp": "2024-01-01T10:00:00-03:00",
    "api_version": "2024-01"
  }
}
```

### Resposta de Erro
```json
{
  "error": {
    "type": "validation_error",
    "code": "INVALID_AMOUNT",
    "message": "Amount must be greater than 0",
    "field": "amount",
    "details": {
      "received": -100,
      "minimum": 1
    }
  },
  "meta": {
    "timestamp": "2024-01-01T10:00:00-03:00",
    "api_version": "2024-01",
    "request_id": "req_abc123"
  }
}
```

### Resposta Paginada
```json
{
  "data": [
    // Array de recursos
  ],
  "pagination": {
    "page": 1,
    "per_page": 20,
    "total": 150,
    "total_pages": 8,
    "has_next": true,
    "has_previous": false
  },
  "meta": {
    "timestamp": "2024-01-01T10:00:00-03:00"
  }
}
```

## üéØ Quick Start

### 1. Obter Chaves API
```bash
# Sandbox para desenvolvimento
export DEBITA_API_KEY="pk_sandbox_abc123..."

# Test para homologa√ß√£o
export DEBITA_API_KEY="pk_test_xyz789..."

# Live para produ√ß√£o
export DEBITA_API_KEY="pk_live_prod123..."
```

### 2. Primeira Cobran√ßa PIX
```javascript
const response = await fetch('https://api.debita.ai/v1/charges/pix/dynamic', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${process.env.DEBITA_API_KEY}`,
    'Content-Type': 'application/json',
    'Idempotency-Key': crypto.randomUUID()
  },
  body: JSON.stringify({
    amount: 10000, // R$ 100,00
    description: 'Pagamento teste',
    customer: {
      name: 'Jo√£o Silva',
      document: '123.456.789-09',
      email: 'joao@email.com'
    }
  })
});

const charge = await response.json();
console.log('QR Code PIX:', charge.data.pix.qr_code);
```

### 3. Configurar Webhook
```javascript
await fetch('https://api.debita.ai/v1/webhooks', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${process.env.DEBITA_API_KEY}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://meusite.com/webhook',
    events: [
      'charge.succeeded',
      'charge.failed',
      'charge.expired'
    ],
    secret: 'webhook-secret-123'
  })
});
```

## üìö Se√ß√µes da Documenta√ß√£o

<CardGroup cols={2}>
  <Card title="Boleto Download" icon="receipt" href="/api-reference/boleto-download">
    Endpoints p√∫blicos para visualiza√ß√£o e download de boletos
  </Card>
  <Card title="PIX Variants" icon="bolt" href="/metodos-pagamento/pix/dinamico">
    Documenta√ß√£o completa dos 6 tipos de PIX dispon√≠veis
  </Card>
  <Card title="Webhooks Events" icon="webhook" href="/webhooks/eventos">
    Lista completa dos 16 eventos de webhook dispon√≠veis
  </Card>
  <Card title="Error Handling" icon="exclamation-triangle" href="/erros/codigos">
    C√≥digos de erro e como trat√°-los adequadamente
  </Card>
</CardGroup>

## üîê Autentica√ß√£o e Seguran√ßa

### Headers Obrigat√≥rios
```http
# Autentica√ß√£o (obrigat√≥rio exceto endpoints p√∫blicos)
Authorization: Bearer pk_sandbox_sua_chave

# Content-Type para POST/PUT
Content-Type: application/json

# Idempot√™ncia (recomendado para opera√ß√µes de escrita)
Idempotency-Key: 550e8400-e29b-41d4-a716-446655440000
```

### Ambientes Dispon√≠veis

| Ambiente | Prefixo | Rate Limit | Descri√ß√£o |
|----------|---------|------------|-----------|
| **Developer Sandbox** | `pk_sandbox_` | 50.000/key | Desenvolvimento com dados fict√≠cios |
| **Test** | `pk_test_` | 10.000/key | Homologa√ß√£o com dados reais |
| **Live** | `pk_live_` | 1.000/key | Produ√ß√£o com transa√ß√µes reais |

### HTTPS Obrigat√≥rio
Todas as requisi√ß√µes devem usar HTTPS. HTTP n√£o √© suportado.

## ‚ö° Rate Limiting

### Limites por Ambiente
- Headers informativos em cada resposta:
  ```http
  X-RateLimit-Limit: 50000
  X-RateLimit-Remaining: 49995
  X-RateLimit-Reset: 1640995200
  ```

### Retry Strategy
```javascript
async function apiRequestWithRetry(url, options, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    const response = await fetch(url, options);

    if (response.status === 429) {
      const retryAfter = response.headers.get('retry-after') || 60;
      await new Promise(resolve => setTimeout(resolve, retryAfter * 1000));
      continue;
    }

    return response;
  }

  throw new Error('Max retries exceeded');
}
```

## üõ†Ô∏è SDKs e Bibliotecas

### Oficiais
- **Node.js**: `npm install @debita/node-sdk`
- **PHP**: `composer require debita/php-sdk`
- **Python**: `pip install debita-python`
- **Go**: `go get github.com/debita/go-sdk`

### Exemplos de Uso
```javascript
// Node.js SDK
import { DebitaAPI } from '@debita/node-sdk';

const debita = new DebitaAPI({
  apiKey: process.env.DEBITA_API_KEY,
  environment: 'sandbox' // ou 'test', 'live'
});

const charge = await debita.charges.createPix({
  amount: 10000,
  description: 'Pagamento teste'
});
```

## üìä Monitoramento

### Logs de Requisi√ß√£o
- Todas as requisi√ß√µes s√£o logadas
- Request ID √∫nico para rastreamento
- M√©tricas de lat√™ncia dispon√≠veis

### Health Check
```http
GET https://api.debita.ai/health
```

### Status Page
Monitore o status da API em: [status.debita.ai](https://status.debita.ai)

---

<Tip>
**Pr√≥ximo Passo**: Comece criando sua primeira cobran√ßa PIX com nosso [guia de in√≠cio r√°pido](/quickstart).
</Tip>