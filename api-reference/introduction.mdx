---
title: "API Reference"
description: "Refer√™ncia r√°pida de todos os endpoints da API Debita AI organizados por recurso."
---

# API Reference

Refer√™ncia r√°pida de todos os endpoints dispon√≠veis na API Debita AI. Para documenta√ß√£o detalhada com exemplos de implementa√ß√£o, acesse a aba **Documentation**.

## üîó Base URL

```
https://api.debita.ai/v1
```

## üîë Autentica√ß√£o

Todos os endpoints (exceto p√∫blicos) requerem header Authorization:

```http
Authorization: Bearer pk_sandbox_sua_chave
```

## üí≥ Cobran√ßas (Charges)

### Cria√ß√£o de Cobran√ßas
| M√©todo | Endpoint | Descri√ß√£o | Rate Limit |
|---------|----------|-----------|------------|
| `POST` | `/charges/pix/dynamic` | Criar PIX Din√¢mico | 10/min (prod), 50/min (dev) |
| `POST` | `/charges/boleto` | Criar Boleto | 10/min (prod), 50/min (dev) |
| `POST` | `/charges/boleto-pix` | Criar Boleto + PIX H√≠brido | 10/min (prod), 50/min (dev) |

**Headers Obrigat√≥rios:**
- `Idempotency-Key`: UUID √∫nico para prevenir duplicatas

### Consulta de Cobran√ßas
| M√©todo | Endpoint | Descri√ß√£o | Rate Limit |
|---------|----------|-----------|------------|
| `GET` | `/charges/{id}` | Obter cobran√ßa por ID | 30/min por IP+ChargeID |
| `GET` | `/charges/pix/{id}` | Obter PIX espec√≠fico por ID | 30/min por IP+ChargeID |
| `GET` | `/charges` | Listar todas as cobran√ßas | Query: page, limit, type |
| `GET` | `/charges/pix` | Listar cobran√ßas PIX | Query: page, limit |

## üìã Clientes (Customers)

| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `POST` | `/customers` | Criar Cliente |
| `GET` | `/customers/{id}` | Obter Cliente por ID |
| `PUT` | `/customers/{id}` | Atualizar Cliente |
| `GET` | `/customers` | Listar Clientes (paginado) |

**Query Parameters (Listagem):**
- `page`: P√°gina (padr√£o: 1)
- `limit`: Limite por p√°gina (padr√£o: 20, m√°x: 100)

## üè™ Merchant (Loja)

| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `GET` | `/merchant/profile` | Obter perfil da loja |
| `PUT` | `/merchant/profile` | Atualizar perfil (campos seguros) |
| `GET` | `/merchant/statistics` | Estat√≠sticas da loja |
| `GET` | `/merchant/limits` | Limites e quotas |

## üîó Links de Pagamento

### Autenticados (API Key Required)
| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `POST` | `/payment-links` | Criar link de pagamento |
| `GET` | `/payment-links` | Listar links (Query: page, limit, status, paymentMethod) |
| `GET` | `/payment-links/{id}` | Obter detalhes do link |
| `PATCH` | `/payment-links/{id}` | Atualizar link |
| `DELETE` | `/payment-links/{id}` | Desabilitar link |
| `GET` | `/payment-links/{id}/analytics` | Analytics do link |
| `GET` | `/payment-links/{id}/payments` | Pagamentos do link |
| `POST` | `/payment-links/webhooks/test` | Testar webhook |

### P√∫blicos (Sem Autentica√ß√£o)
| M√©todo | Endpoint | Descri√ß√£o | Rate Limit |
|---------|----------|-----------|------------|
| `GET` | `/pay/{code}` | Acessar link p√∫blico | 100/min por IP, 10/min por c√≥digo |
| `POST` | `/pay/{code}/initiate` | Iniciar pagamento | 5/min por IP+c√≥digo |
| `GET` | `/pay/{chargeId}/status` | Status do pagamento | 30/min por IP+ChargeID |
| `GET` | `/pay/{chargeId}/stream` | Stream de status (SSE) | Real-time updates |

## üìÑ Boletos P√∫blicos

| M√©todo | Endpoint | Descri√ß√£o | Rate Limit |
|---------|----------|-----------|------------|
| `GET` | `/boleto/{code}` | Visualizar boleto p√∫blico | 100/min por IP |
| `GET` | `/boleto/{code}/pdf` | Download PDF do boleto | 100/min por IP |

## üîî Webhooks

### Merchant Webhooks (Configura√ß√£o)
| M√©todo | Endpoint | Descri√ß√£o | Permiss√£o |
|---------|----------|-----------|-----------|
| `POST` | `/webhooks` | Criar webhook | WEBHOOKS_CREATE |
| `GET` | `/webhooks` | Listar webhooks | WEBHOOKS_READ |
| `GET` | `/webhooks/{id}` | Obter webhook | WEBHOOKS_READ |
| `PUT` | `/webhooks/{id}` | Atualizar webhook | WEBHOOKS_UPDATE |
| `DELETE` | `/webhooks/{id}` | Excluir webhook | WEBHOOKS_DELETE |
| `POST` | `/webhooks/{id}/test` | Testar webhook | WEBHOOKS_UPDATE |
| `GET` | `/webhooks/{id}/logs` | Logs do webhook | WEBHOOKS_READ |

### Provider Webhooks (Sistema)
| M√©todo | Endpoint | Descri√ß√£o | Valida√ß√£o |
|---------|----------|-----------|-----------|
| `POST` | `/webhooks/v1/paag[/sandbox]` | Webhook Paag | HMAC SHA-256 |
| `POST` | `/webhooks/v1/sqala` | Webhook Sqala | HMAC SHA-1 |
| `POST` | `/webhooks/v1/delfinance[/sandbox]/{event}` | Webhook Delfinance | HMAC SHA-256 |

## üë®‚Äçüíª Desenvolvedores

### Autentica√ß√£o
| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `GET` | `/auth/me` | Informa√ß√µes do desenvolvedor |

### API Keys
| M√©todo | Endpoint | Descri√ß√£o | Auth |
|---------|----------|-----------|------|
| `POST` | `/api-keys` | Criar API Key | Public |
| `GET` | `/api-keys` | Listar API Keys | Bearer |
| `DELETE` | `/api-keys/{id}` | Excluir API Key | Bearer |

## ‚öôÔ∏è Utilit√°rios

### Valida√ß√£o
| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `POST` | `/utils/validate-cpf` | Validar CPF |
| `POST` | `/utils/validate-cnpj` | Validar CNPJ |
| `POST` | `/utils/validate-phone` | Validar telefone |
| `POST` | `/utils/validate-cep` | Validar CEP |
| `POST` | `/utils/validate-bank-account` | Validar conta banc√°ria |

### Formata√ß√£o
| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `GET` | `/utils/generate-idempotency-key` | Gerar chave de idempot√™ncia |
| `GET` | `/utils/format-amount/{cents}` | Formatar valor (centavos ‚Üí R$) |
| `POST` | `/utils/parse-amount` | Converter formato ‚Üí centavos |
| `GET` | `/utils/generate-request-id` | Gerar ID de requisi√ß√£o |

## üè• Health Checks

| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `GET` | `/health` | Status da API |
| `GET` | `/health/ready` | Readiness probe |
| `GET` | `/health/live` | Liveness probe |

## üÜò Endpoints de Emerg√™ncia

| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `POST` | `/charges/emergency/sync-boletos` | Sincronizar boletos faltantes |
| `POST` | `/charges/emergency/fix-carne` | Corrigir carn√™ completo |

**Query Parameters:**
- `dryRun`: Apenas simular (n√£o executar)
- `parentCorrelationId`: ID do carn√™ espec√≠fico

## üß™ Testes (Sandbox)

### Webhook Testing
| M√©todo | Endpoint | Descri√ß√£o |
|---------|----------|-----------|
| `POST` | `/webhooks/testing/configure` | Configurar URL de teste |
| `GET` | `/webhooks/testing/test` | Enviar webhook de teste |
| `POST` | `/webhooks/testing/simulate/delfinance` | Simular webhook Delfinance |

## üìù C√≥digos de Status HTTP

| C√≥digo | Descri√ß√£o | Contexto |
|--------|-----------|----------|
| `200` | OK - Sucesso | Opera√ß√£o realizada |
| `201` | Created - Recurso criado | POST bem-sucedido |
| `204` | No Content - Sucesso sem conte√∫do | DELETE bem-sucedido |
| `302` | Found - Redirecionamento | PDF downloads |
| `400` | Bad Request - Dados inv√°lidos | Valida√ß√£o falhou |
| `401` | Unauthorized - Chave API inv√°lida | Autentica√ß√£o necess√°ria |
| `403` | Forbidden - Sem permiss√£o | Permiss√£o insuficiente |
| `404` | Not Found - Recurso n√£o encontrado | ID n√£o existe |
| `422` | Unprocessable Entity | Dados v√°lidos mas n√£o process√°veis |
| `429` | Too Many Requests - Rate limit atingido | Muitas requisi√ß√µes |
| `500` | Internal Server Error - Erro interno | Erro do servidor |

## üöÄ Rate Limits

### Por Endpoint
| Endpoint | Limite | Tipo |
|----------|--------|------|
| Cria√ß√£o de cobran√ßas | 10/min (prod), 50/min (dev) | Por merchant |
| Status de cobran√ßa | 30/min | Por IP+ChargeID |
| Links p√∫blicos | 100/min por IP, 10/min por c√≥digo | Por IP/c√≥digo |
| Boletos p√∫blicos | 100/min | Por IP |
| Initiate payment | 5/min | Por IP+c√≥digo |

## üîí Autentica√ß√£o e Headers

### Headers de Autentica√ß√£o
```http
Authorization: Bearer pk_sandbox_sua_chave_aqui
```

### Headers Especiais
```http
# Preven√ß√£o de duplicatas (obrigat√≥rio em cria√ß√£o de cobran√ßas)
Idempotency-Key: a1b2c3d4-e5f6-7890-abcd-ef1234567890

# Para pagamentos p√∫blicos
X-Idempotency-Key: unique-payment-key-123
```

### Valida√ß√£o HMAC (Webhooks)
```http
# Sqala
x-sqala-signature: sha1=hash

# Delfinance
x-delfinance-signature: sha256=hash

# Paag
x-paag-webhook-signature: sha256=hash
```

---

<Note>
**Para implementa√ß√µes detalhadas**: Acesse a aba **Documentation** que cont√©m guias completos com exemplos de c√≥digo e melhores pr√°ticas para cada endpoint.
</Note>